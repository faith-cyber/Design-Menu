{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Faith\\\\Desktop\\\\design\\\\src\\\\components\\\\mealinfo\\\\MealInfo.js\",\n    _s = $RefreshSig$();\n\nimport './mealinfo.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MealInfo = () => {\n  _s();\n\n  const {\n    mealID\n  } = useParams();\n  const [ingredients, setIngredients] = useState('');\n  const history = useHistory();\n  const [{\n    data,\n    isLoading,\n    isError\n  }, doFetch] = useFetchMealDbApi();\n  useEffect(() => doFetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${mealID}`), [doFetch, mealID, data]);\n  const [bookmarked, setBookmarked] = useState(data && data.meals[0].bookmarked);\n  let {\n    bookmarks,\n    setBookmarks\n  } = useContext(BookmarkContext);\n\n  const persistBookmarks = function () {\n    localStorage.setItem('bookmarks', JSON.stringify(bookmarks));\n  };\n\n  const addBookmark = function (recipe) {\n    // console.log(dataFromApi)\n    // Add bookmark\n    bookmarks.push(recipe); // Mark current recipe as bookmark\n\n    if (data && recipe.idMeal === data.meals[0].idMeal) {\n      data.meals[0].bookmarked = true;\n      setBookmarked(true);\n    }\n\n    persistBookmarks();\n    console.log(bookmarked);\n  }; // Check if the loaded recipe has the same id\n  // with a recipe in the bookmarked state\n\n\n  const [storedBookmarksCheck, setStoredBookmarksCheck] = useState([]);\n  useEffect(() => {\n    if (storedBookmarksCheck && data) {\n      checkBookmark();\n    }\n  });\n  useEffect(() => {\n    setStoredBookmarksCheck(JSON.parse(localStorage.getItem('bookmarks')));\n  }, [bookmarks]);\n\n  const checkBookmark = () => {\n    if (storedBookmarksCheck && storedBookmarksCheck.some(bookmark => bookmark.idMeal === data.meals[0].idMeal)) {\n      data.meals[0].bookmarked = true; // setBookmarked(true)\n    } else {\n      data.meals[0].bookmarked = false; // setBookmarked(false)\n    }\n  };\n\n  useEffect(() => {\n    if (data && data.meals[0].bookmarked === true) {\n      setBookmarked(true);\n    } else if (data && data.meals[0].bookmarked === false) {\n      setBookmarked(false);\n    }\n  }, [data]);\n\n  const deleteBookmark = function (recipe) {\n    console.log(storedBookmarksCheck); // Delete bookmark\n\n    const index = bookmarks.findIndex(el => el.idMeal === recipe.idMeal);\n    bookmarks.splice(index, 1); // Mark current recipe as NOT bookmark\n\n    if (data && recipe.idMeal === data.meals[0].idMeal) {\n      data.meals[0].bookmarked = false;\n      setBookmarked(false);\n    }\n\n    persistBookmarks();\n    console.log(bookmarked);\n  };\n\n  function createIngredientsArray(meal) {\n    const ingredientsData = [];\n\n    for (let i = 1; i <= 20; i++) {\n      if (meal[`strIngredient${i}`]) {\n        ingredientsData.push(`${meal[`strIngredient${i}`]} - ${meal[`strMeasure${i}`]}`);\n      } else {\n        break;\n      }\n    }\n\n    setIngredients(ingredientsData);\n  }\n\n  if (data && ingredients === '') {\n    const meal = data.meals[0];\n    createIngredientsArray(meal);\n  }\n\n  const theme = useContext(DarkModeContext);\n  const {\n    syntax,\n    ui,\n    bg,\n    lic,\n    libg,\n    isDark\n  } = theme.mode;\n  const loaderTheme = isDark ? 'dark' : 'light';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"single-meal relative\",\n    className: \"min-h-screen md:pt-1\",\n    style: {\n      background: ui,\n      color: syntax\n    },\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), isError && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Something went wrong ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }, this), isLoading ? [1, 2, 3, 4, 5].map(n => /*#__PURE__*/_jsxDEV(SkeletonMealInfo, {\n      theme: loaderTheme\n    }, n, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this)) : ingredients && data && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto relative min-h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-4xl md:max-w-2xl lg:max-w-4xl lg:pl-44 xl:max-w-5xl mx-auto xl:pl-32  md:mb-8 mt-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recipe-summary wrapper md:mt-8 flex flex-col-reverse w-full align-center justify-between md:flex-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recipe-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"primary-info-text\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"primary-info-left-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"recipe-title font-bold text-xl md:text-4xl mt-0 ml-2 mb-4 sm:w-full md:mb-8 font-sans w-80\",\n                  children: data.meals[0].strMeal\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item-wrapper flex relative justify-center md:justify-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recipe-summary-item  text-4xl flex flex-col w-28 border-r border-gray-400  justify-center items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value font-light text-4xl h-12\",\n                  children: ingredients.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"unit font-normal text-sm leading-3\",\n                  children: \"Ingredients\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recipe-summary-item unit text-4xl flex flex-col w-36 border-r border-gray-400 justify-center items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value font-light text-4xl h-12\",\n                  children: \"25\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"unit font-normal text-sm leading-3\",\n                  children: \"Minutes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recipe-summary-item nutrition text-4xl flex flex-col w-36 justify-center items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value font-light text-4xl h-12\",\n                  children: \"210\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"unit font-normal text-sm leading-3\",\n                  children: \"Calories\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"main mt-6 text-center md:text-justify m-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"h-8 text-center md:text-justify font-bold\",\n                children: \"Ingredients\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"single-meal-ul w-11/12 mx-auto md:mx-0\",\n                children: ingredients.map(ing => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"single-meal-ul-li\",\n                  style: {\n                    background: libg,\n                    color: lic\n                  },\n                  children: ing\n                }, uuidv4(), false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recipe-details-image w-full mobile-div relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              alt: data.meals.strMeal,\n              src: data.meals[0].strMealThumb,\n              className: \"recipe-image w-11/12 mx-auto md:max-w-full rounded-lg md:rounded-lg mobile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: data.meals[0].bookmarked ? ' text-gray-900 absolute top-1 right-3 sm:top-1 sm:right-3 rounded-full focus:outline-none p-2' : ' text-gray-400 absolute top-1 right-3 sm:top-1 sm:right-3 rounded-full focus:outline-none p-2',\n              onClick: data.meals[0].bookmarked === true ? () => deleteBookmark(data.meals && data.meals[0]) : () => addBookmark(data.meals && data.meals[0]),\n              title: data.meals[0].bookmarked ? 'Remove From Bookmarks' : 'Add To Bookmarks',\n              \"aria-label\": data.meals[0].bookmarked ? 'Remove From Bookmarks' : 'Add To Bookmarks',\n              children: /*#__PURE__*/_jsxDEV(BookmarkIcon, {\n                className: data.meals[0].bookmarked === true ? 'home-icon h-10 w-10 text-gray-900' : 'home-icon h-10 w-10 text-gray-300'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"single-meal-p w-11/12 m-auto md:mt-6 list-none pb-20 pt-10\",\n          children: data.meals[0].strInstructions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MealInfo, \"msp8bMNjdG0q20pAaFwuKFrdOjE=\", true);\n\n_c = MealInfo;\nexport default MealInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"MealInfo\");","map":{"version":3,"sources":["C:/Users/Faith/Desktop/design/src/components/mealinfo/MealInfo.js"],"names":["MealInfo","mealID","useParams","ingredients","setIngredients","useState","history","useHistory","data","isLoading","isError","doFetch","useFetchMealDbApi","useEffect","bookmarked","setBookmarked","meals","bookmarks","setBookmarks","useContext","BookmarkContext","persistBookmarks","localStorage","setItem","JSON","stringify","addBookmark","recipe","push","idMeal","console","log","storedBookmarksCheck","setStoredBookmarksCheck","checkBookmark","parse","getItem","some","bookmark","deleteBookmark","index","findIndex","el","splice","createIngredientsArray","meal","ingredientsData","i","theme","DarkModeContext","syntax","ui","bg","lic","libg","isDark","mode","loaderTheme","background","color","map","n","strMeal","length","ing","uuidv4","strMealThumb","strInstructions"],"mappings":"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","sourcesContent":["import './mealinfo.css';\n\nconst MealInfo = () => {\n  const { mealID } = useParams();\n  const [ingredients, setIngredients] = useState('');\n  const history = useHistory();\n\n  const [{ data, isLoading, isError }, doFetch] = useFetchMealDbApi();\n\n  useEffect(\n    () =>\n      doFetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${mealID}`),\n    [doFetch, mealID, data]\n  );\n\n  const [bookmarked, setBookmarked] = useState(\n    data && data.meals[0].bookmarked\n  );\n\n  let { bookmarks, setBookmarks } = useContext(BookmarkContext);\n\n  const persistBookmarks = function () {\n    localStorage.setItem('bookmarks', JSON.stringify(bookmarks));\n  };\n\n  const addBookmark = function (recipe) {\n    // console.log(dataFromApi)\n\n    // Add bookmark\n    bookmarks.push(recipe);\n\n    // Mark current recipe as bookmark\n    if (data && recipe.idMeal === data.meals[0].idMeal) {\n      data.meals[0].bookmarked = true;\n      setBookmarked(true);\n    }\n\n    persistBookmarks();\n    console.log(bookmarked);\n  };\n\n  // Check if the loaded recipe has the same id\n  // with a recipe in the bookmarked state\n\n  const [storedBookmarksCheck, setStoredBookmarksCheck] = useState([]);\n\n  useEffect(() => {\n    if (storedBookmarksCheck && data) {\n      checkBookmark();\n    }\n  });\n\n  useEffect(() => {\n    setStoredBookmarksCheck(JSON.parse(localStorage.getItem('bookmarks')));\n  }, [bookmarks]);\n\n  const checkBookmark = () => {\n    if (\n      storedBookmarksCheck &&\n      storedBookmarksCheck.some(\n        (bookmark) => bookmark.idMeal === data.meals[0].idMeal\n      )\n    ) {\n      data.meals[0].bookmarked = true;\n      // setBookmarked(true)\n    } else {\n      data.meals[0].bookmarked = false;\n      // setBookmarked(false)\n    }\n  };\n\n  useEffect(() => {\n    if (data && data.meals[0].bookmarked === true) {\n      setBookmarked(true);\n    } else if (data && data.meals[0].bookmarked === false) {\n      setBookmarked(false);\n    }\n  }, [data]);\n\n  const deleteBookmark = function (recipe) {\n    console.log(storedBookmarksCheck);\n\n    // Delete bookmark\n    const index = bookmarks.findIndex((el) => el.idMeal === recipe.idMeal);\n    bookmarks.splice(index, 1);\n\n    // Mark current recipe as NOT bookmark\n    if (data && recipe.idMeal === data.meals[0].idMeal) {\n      data.meals[0].bookmarked = false;\n      setBookmarked(false);\n    }\n\n    persistBookmarks();\n    console.log(bookmarked);\n  };\n\n  function createIngredientsArray(meal) {\n    const ingredientsData = [];\n    for (let i = 1; i <= 20; i++) {\n      if (meal[`strIngredient${i}`]) {\n        ingredientsData.push(\n          `${meal[`strIngredient${i}`]} - ${meal[`strMeasure${i}`]}`\n        );\n      } else {\n        break;\n      }\n    }\n\n    setIngredients(ingredientsData);\n  }\n\n  if (data && ingredients === '') {\n    const meal = data.meals[0];\n    createIngredientsArray(meal);\n  }\n\n  const theme = useContext(DarkModeContext);\n  const { syntax, ui, bg, lic, libg, isDark } = theme.mode;\n  const loaderTheme = isDark ? 'dark' : 'light';\n\n  return (\n    <div\n      id=\"single-meal relative\"\n      className=\"min-h-screen md:pt-1\"\n      style={{ background: ui, color: syntax }}\n    >\n      <Navbar />\n      {isError && <div>Something went wrong ...</div>}\n      {isLoading\n        ? [1, 2, 3, 4, 5].map((n) => (\n            <SkeletonMealInfo key={n} theme={loaderTheme} />\n          ))\n        : ingredients &&\n          data && (\n            <div className=\"max-w-7xl mx-auto relative min-h-screen\">\n              <div className=\"max-w-4xl md:max-w-2xl lg:max-w-4xl lg:pl-44 xl:max-w-5xl mx-auto xl:pl-32  md:mb-8 mt-0\">\n                <div className=\"recipe-summary wrapper md:mt-8 flex flex-col-reverse w-full align-center justify-between md:flex-row\">\n                  <div className=\"recipe-details\">\n                    <div className=\"primary-info-text\">\n                      <div className=\"primary-info-left-wrapper\">\n                        <h2 className=\"recipe-title font-bold text-xl md:text-4xl mt-0 ml-2 mb-4 sm:w-full md:mb-8 font-sans w-80\">\n                          {data.meals[0].strMeal}\n                        </h2>\n                      </div>\n                    </div>\n                    <div className=\"summary-item-wrapper flex relative justify-center md:justify-start\">\n                      <div className=\"recipe-summary-item  text-4xl flex flex-col w-28 border-r border-gray-400  justify-center items-center\">\n                        <span className=\"value font-light text-4xl h-12\">\n                          {ingredients.length}\n                        </span>\n                        <span className=\"unit font-normal text-sm leading-3\">\n                          Ingredients\n                        </span>\n                      </div>\n                      <div className=\"recipe-summary-item unit text-4xl flex flex-col w-36 border-r border-gray-400 justify-center items-center\">\n                        <span className=\"value font-light text-4xl h-12\">\n                          25\n                        </span>\n                        <span className=\"unit font-normal text-sm leading-3\">\n                          Minutes\n                        </span>\n                      </div>\n                      <div className=\"recipe-summary-item nutrition text-4xl flex flex-col w-36 justify-center items-center\">\n                        <span className=\"value font-light text-4xl h-12\">\n                          210\n                        </span>\n                        <span className=\"unit font-normal text-sm leading-3\">\n                          Calories\n                        </span>\n                      </div>\n                    </div>\n\n                    <div className=\"main mt-6 text-center md:text-justify m-8\">\n                      <h2 className=\"h-8 text-center md:text-justify font-bold\">\n                        Ingredients\n                      </h2>\n                      <ul className=\"single-meal-ul w-11/12 mx-auto md:mx-0\">\n                        {ingredients.map((ing) => (\n                          <li\n                            className=\"single-meal-ul-li\"\n                            key={uuidv4()}\n                            style={{ background: libg, color: lic }}\n                          >\n                            {ing}\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  </div>\n                  <div className=\"recipe-details-image w-full mobile-div relative\">\n                    <img\n                      alt={data.meals.strMeal}\n                      src={data.meals[0].strMealThumb}\n                      className=\"recipe-image w-11/12 mx-auto md:max-w-full rounded-lg md:rounded-lg mobile\"\n                    />\n                    <button\n                      className={\n                        data.meals[0].bookmarked\n                          ? ' text-gray-900 absolute top-1 right-3 sm:top-1 sm:right-3 rounded-full focus:outline-none p-2'\n                          : ' text-gray-400 absolute top-1 right-3 sm:top-1 sm:right-3 rounded-full focus:outline-none p-2'\n                      }\n                      onClick={\n                        data.meals[0].bookmarked === true\n                          ? () => deleteBookmark(data.meals && data.meals[0])\n                          : () => addBookmark(data.meals && data.meals[0])\n                      }\n                      title={\n                        data.meals[0].bookmarked\n                          ? 'Remove From Bookmarks'\n                          : 'Add To Bookmarks'\n                      }\n                      aria-label={\n                        data.meals[0].bookmarked\n                          ? 'Remove From Bookmarks'\n                          : 'Add To Bookmarks'\n                      }\n                    >\n                      <BookmarkIcon\n                        className={\n                          data.meals[0].bookmarked === true\n                            ? 'home-icon h-10 w-10 text-gray-900'\n                            : 'home-icon h-10 w-10 text-gray-300'\n                        }\n                      />\n                    </button>\n                  </div>\n                </div>\n                <p className=\"single-meal-p w-11/12 m-auto md:mt-6 list-none pb-20 pt-10\">\n                  {data.meals[0].strInstructions}\n                </p>\n              </div>\n            </div>\n          )}\n    </div>\n  );\n};\n\nexport default MealInfo;\n"]},"metadata":{},"sourceType":"module"}